{"version":3,"names":["PixButton","getIsLoading","this","isLoading","isTriggering","getIsDisabled","isDisabled","updateClassNames","classNames","shape","size","backgroundColor","isBorderVisible","push","join","async","event","console","log","type","triggerAction","Error","render","h","onClick","_triggerAction","bind","class","disabled"],"sources":["src/components/pix-button/pix-button.tsx"],"sourcesContent":["import {Component, Prop, Method, h, Watch, State } from '@stencil/core';\n\n@Component({\n  tag: 'pix-button',\n  // styleUrl: './global/global.css',\n  // shadow: true,\n  scoped: true,\n})\nexport class PixButton {\n\n  @Prop() type: string = \"button\";\n\n  @Prop() size: string = 'big';\n\n  @Prop() shape: string = 'squircle';\n\n  @Prop() backgroundColor: string = 'blue'\n\n  @Prop() isBorderVisible: boolean = false;\n\n  @Prop() isDisabled: boolean;\n\n  @Prop() isLoading: boolean;\n\n  @Prop() triggerAction: Function;\n\n  @State() isTriggering: boolean = false;\n\n  @Watch('isLoading')\n  @Watch('isTriggering')\n  private getIsLoading() : boolean {\n    return this.isLoading || this.isTriggering;\n  }\n  @Watch('isLoading')\n  @Watch('isTriggering')\n  @Watch('isDisabled')\n  private getIsDisabled(): boolean {\n    return this.getIsLoading() || this.isDisabled;\n  }\n\n  @Watch('isLoading')\n  @Watch('isTriggering')\n  @Watch('isDisabled')\n  updateClassNames() {\n    const classNames = [\n      'pix-button',\n      `pix-button--shape-${this.shape}`,\n      `pix-button--size-${this.size}`,\n      `pix-button--background-${this.backgroundColor}`,\n    ];\n    this.isBorderVisible && classNames.push('pix-button--border');\n    this.getIsDisabled() && classNames.push('pix-button--disabled');\n    return classNames.join(' ');\n  }\n\n  @Method()\n  async _triggerAction(event: MouseEvent) {\n    console.log({type: this.type});\n    console.log('is it triggering ? ', this.isTriggering);\n    if (this.isDisabled || (this.type === 'submit' && !this.triggerAction)) return;\n\n    if (!this.triggerAction) {\n      throw new Error('@triggerAction params is required for PixButton !');\n    }\n    try {\n      this.isTriggering = true;\n      console.log('when triggered !', this.triggerAction);\n      await this.triggerAction(event);\n    } finally {\n      console.log('triggering done ! ');\n      this.isTriggering = false;\n    }\n  }\n\n  render() {\n    return (\n      <button\n        onClick={this._triggerAction.bind(this)}\n        type={this.type}\n        class={this.updateClassNames()}\n        disabled={this.getIsDisabled()}\n        aria-disabled={this.getIsDisabled()}\n      >\n        <slot/>\n      </button>\n    );\n  }\n}\n/*\n<button\n  type={{this.type}}\n  class={{this.className}}\n  {{on \"click\" this.triggerAction}}\n    ...attributes\ndisabled={{this.isDisabled}}\naria-disabled=\"{{this.isDisabled}}\"\n  >\n  {{#if this.isLoading}}\n<div class=\"loader loader--{{this.loadingColor}}\">\n  <div class=\"bounce1\"></div>\n  <div class=\"bounce2\"></div>\n  <div class=\"bounce3\"></div>\n</div>\n<span class=\"loader__not-visible-text\">{{yield}}</span>\n{{else}}\n{{#if @iconBefore}}\n<FaIcon\n  class=\"pix-button__icon pix-button__icon--before\"\n          @icon={{@iconBefore}}\n@prefix={{@prefixIconBefore}}\n/>\n{{/if}}\n  {{yield}}\n  {{#if @iconAfter}}\n  <FaIcon\n    class=\"pix-button__icon pix-button__icon--after\"\n          @icon={{@iconAfter}}\n@prefix={{@prefixIconAfter}}\n  />\n  {{/if}}\n    {{/if}}\n    </button>*/\n"],"mappings":"iDAQaA,EAAS,M,mCAEG,S,UAEA,M,WAEC,W,qBAEU,O,qBAEC,M,kGAQF,K,CAIzBC,eACN,OAAOC,KAAKC,WAAaD,KAAKE,Y,CAKxBC,gBACN,OAAOH,KAAKD,gBAAkBC,KAAKI,U,CAMrCC,mBACE,MAAMC,EAAa,CACjB,aACA,qBAAqBN,KAAKO,QAC1B,oBAAoBP,KAAKQ,OACzB,0BAA0BR,KAAKS,mBAEjCT,KAAKU,iBAAmBJ,EAAWK,KAAK,sBACxCX,KAAKG,iBAAmBG,EAAWK,KAAK,wBACxC,OAAOL,EAAWM,KAAK,I,CAIzBC,qBAAqBC,GACnBC,QAAQC,IAAI,CAACC,KAAMjB,KAAKiB,OACxBF,QAAQC,IAAI,sBAAuBhB,KAAKE,cACxC,GAAIF,KAAKI,YAAeJ,KAAKiB,OAAS,WAAajB,KAAKkB,cAAgB,OAExE,IAAKlB,KAAKkB,cAAe,CACvB,MAAM,IAAIC,MAAM,oD,CAElB,IACEnB,KAAKE,aAAe,KACpBa,QAAQC,IAAI,mBAAoBhB,KAAKkB,qBAC/BlB,KAAKkB,cAAcJ,E,SAEzBC,QAAQC,IAAI,sBACZhB,KAAKE,aAAe,K,EAIxBkB,SACE,OACEC,EAAA,UACEC,QAAStB,KAAKuB,eAAeC,KAAKxB,MAClCiB,KAAMjB,KAAKiB,KACXQ,MAAOzB,KAAKK,mBACZqB,SAAU1B,KAAKG,gBAAe,gBACfH,KAAKG,iBAEpBkB,EAAA,a"}