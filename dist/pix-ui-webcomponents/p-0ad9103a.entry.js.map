{"version":3,"names":["pixButtonCss","PixButton","getIsLoading","this","isLoading","isTriggering","getIsDisabled","isDisabled","updateClassNames","classNames","shape","size","backgroundColor","isBorderVisible","push","join","async","event","console","log","type","triggerAction","_handleClick","Error","form","el","closest","requestSubmit","render","template","h","Fragment","class","name","onClick","_triggerAction","bind","disabled"],"sources":["src/components/pix-button/pix-button.css?tag=pix-button&encapsulation=shadow","src/components/pix-button/pix-button.tsx"],"sourcesContent":[".pix-button {\n  color: var(--pix-neutral-0);\n  font-size: 0.875rem;\n  font-weight: var(--font-medium);\n  white-space: nowrap;\n  cursor: pointer;\n  background-color: var(--pix-secondary);\n  border: 1px solid transparent;\n  outline: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-decoration: none;\n  /* deprecated in favor of --background-transparent-light + --border */\n}\n.pix-button--shape-rounded {\n  border-radius: 25px;\n}\n.pix-button--shape-squircle {\n  border-radius: 4px;\n}\n.pix-button--size-big {\n  padding: 12px 24px;\n}\n.pix-button--size-small.pix-button--shape-rounded {\n  padding: 8px 24px;\n}\n.pix-button--size-small.pix-button--shape-squircle {\n  padding: 8px 16px;\n}\n.pix-button--disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.pix-button--background-blue {\n  background-color: var(--pix-primary);\n}\n.pix-button--background-blue:not(.pix-button--disabled):hover {\n  background-color: var(--pix-primary-60);\n}\n.pix-button--background-blue:not(.pix-button--disabled):focus, .pix-button--background-blue:not(.pix-button--disabled):focus-visible {\n  background-color: var(--pix-primary-60);\n  outline: 1px solid v--pix-neutral-0;\n  outline-offset: -4px;\n}\n.pix-button--background-blue:not(.pix-button--disabled):active {\n  background-color: var(--pix-primary-70);\n  outline: none;\n}\n.pix-button--background-green {\n  /* background-color: var(--pix-success-60); */\n  background-color: #f0f;\n}\n.pix-button--background-green:not(.pix-button--disabled):hover {\n  background-color: var(--pix-success-70);\n}\n.pix-button--background-green:not(.pix-button--disabled):focus, .pix-button--background-green:not(.pix-button--disabled):focus-visible {\n  background-color: var(--pix-success-70);\n  outline: 1px solid var(--pix-neutral-0);\n  outline-offset: -4px;\n}\n.pix-button--background-green:not(.pix-button--disabled):active {\n  background-color: var(--pix-success-80);\n  outline: none;\n}\n.pix-button--background-yellow {\n  color: var(--pix-neutral-100);\n  background-color: var(--pix-warning-40);\n}\n.pix-button--background-yellow:not(.pix-button--disabled):hover {\n  background-color: var(--pix-warning-50);\n}\n.pix-button--background-yellow:not(.pix-button--disabled):focus, .pix-button--background-yellow:not(.pix-button--disabled):focus-visible {\n  background-color: var(--pix-warning-50);\n  outline: 1px solid var(--pix-neutral-0);\n  outline-offset: -4px;\n}\n.pix-button--background-yellow:not(.pix-button--disabled):active {\n  background-color: var(--pix-warning-60);\n  outline: none;\n}\n.pix-button--background-red {\n  color: var(--pix-neutral-0);\n  background-color: var(--pix-error-70);\n}\n.pix-button--background-red:not(.pix-button--disabled):hover {\n  background-color: var(--pix-error-80);\n}\n.pix-button--background-red:not(.pix-button--disabled):focus, .pix-button--background-red:not(.pix-button--disabled):focus-visible {\n  background-color: var(--pix-error-70);\n  outline: 1px solid var(--pix-neutral-0);\n  outline-offset: -4px;\n}\n.pix-button--background-red:not(.pix-button--disabled):active {\n  background-color: var(--pix-error-90);\n  outline: none;\n}\n.pix-button--background-grey {\n  color: var(--pix-neutral-90);\n  background-color: var(--pix-neutral-20);\n}\n.pix-button--background-grey:not(.pix-button--disabled):hover {\n  background-color: var(--pix-neutral-22);\n}\n.pix-button--background-grey:not(.pix-button--disabled):focus, .pix-button--background-grey:not(.pix-button--disabled):focus-visible {\n  background-color: --pix-neutral-90;\n  color: --pix-neutral-0;\n  outline: 1px solid --pix-neutral-0;\n  outline-offset: -4px;\n}\n.pix-button--background-grey:not(.pix-button--disabled):active {\n  background-color: --pix-neutral-25;\n  color: --pix-neutral-90;\n  outline: none;\n}\n.pix-button--background-transparent {\n  background-color: transparent;\n  color: --pix-neutral-50;\n  border: 1px solid --pix-neutral-50;\n}\n.pix-button--background-transparent-light {\n  color: --pix-neutral-90;\n  background-color: transparent;\n}\n.pix-button--background-transparent-light.pix-button--border {\n  border: 1px solid --pix-neutral-50;\n}\n.pix-button--background-transparent-light:not(.pix-button--disabled):hover {\n  background-color: --pix-neutral-60;\n  color: --pix-neutral-0;\n  border: 1px solid transparent;\n}\n.pix-button--background-transparent-light:not(.pix-button--disabled):focus, .pix-button--background-transparent-light:not(.pix-button--disabled):focus-visible {\n  background-color: --pix-neutral-90;\n  color: --pix-neutral-0;\n  outline: 1px solid --pix-neutral-0;\n  outline-offset: -4px;\n}\n.pix-button--background-transparent-light:not(.pix-button--disabled):active {\n  background-color: --pix-neutral-70;\n  outline: none;\n}\n.pix-button--background-transparent-dark {\n  color: --pix-neutral-0;\n  background-color: transparent;\n}\n.pix-button--background-transparent-dark.pix-button--border {\n  border: 1px solid --pix-neutral-0;\n}\n.pix-button--background-transparent-dark:not(.pix-button--disabled):hover {\n  background-color: --pix-neutral-10;\n  color: --pix-neutral-90;\n  border: 1px solid transparent;\n}\n.pix-button--background-transparent-dark:not(.pix-button--disabled):focus, .pix-button--background-transparent-dark:not(.pix-button--disabled):focus-visible {\n  background-color: --pix-neutral-10;\n  color: --pix-neutral-90;\n  outline: 1px solid --pix-neutral-90;\n  outline-offset: -4px;\n}\n.pix-button--background-transparent-dark:not(.pix-button--disabled):active {\n  background-color: --pix-neutral-20;\n  outline: none;\n}\n\n.pix-button__icon {\n  height: 1rem;\n}\n.pix-button__icon--before {\n  margin-right: var(--pix-spacing-xs);\n}\n.pix-button__icon--after {\n  margin-left: var(--pix-spacing-xs);\n}\n.pix-button .loader {\n  position: absolute;\n}\n.pix-button .loader__not-visible-text {\n  visibility: hidden;\n}\n.loader > div {\n  width: 10px;\n  height: 10px;\n  background-color: var(--pix-neutral-0);\n  border-radius: 100%;\n  display: inline-block;\n  animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n}\n.loader--white > div {\n  background-color: var(--pix-neutral-0);\n}\n.loader--grey > div {\n  background-color: var(--pix-neutral-80);\n}\n.loader .bounce1 {\n  animation-delay: -0.32s;\n}\n.loader .bounce2 {\n  animation-delay: -0.16s;\n}\n@keyframes sk-bouncedelay {\n  0%, 80%, 100% {\n    transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n  }\n}\n","import {Component, Prop, Method, h, Watch, State, Fragment, Element } from '@stencil/core';\n\n@Component({\n  tag: 'pix-button',\n  styleUrl: 'pix-button.css',\n  shadow: true,\n  // scoped: true,\n})\nexport class PixButton {\n\n  @Prop() type: string = \"button\";\n\n  @Prop() size: string = 'big';\n\n  @Prop() shape: string = 'squircle';\n\n  @Prop() backgroundColor: string = 'blue'\n\n  @Prop() isBorderVisible: boolean = false;\n\n  @Prop() isDisabled: boolean;\n\n  @Prop() isLoading: boolean;\n\n  @Prop() triggerAction: Function;\n\n  @State() isTriggering: boolean = false;\n\n  @Element() el;\n\n  @Watch('isLoading')\n  @Watch('isTriggering')\n  private getIsLoading() : boolean {\n    return this.isLoading || this.isTriggering;\n  }\n  @Watch('isLoading')\n  @Watch('isTriggering')\n  @Watch('isDisabled')\n  private getIsDisabled(): boolean {\n    return this.getIsLoading() || this.isDisabled;\n  }\n\n  @Watch('isLoading')\n  @Watch('isTriggering')\n  @Watch('isDisabled')\n  updateClassNames() {\n    const classNames = [\n      'pix-button',\n      `pix-button--shape-${this.shape}`,\n      `pix-button--size-${this.size}`,\n      `pix-button--background-${this.backgroundColor}`,\n    ];\n    this.isBorderVisible && classNames.push('pix-button--border');\n    this.getIsDisabled() && classNames.push('pix-button--disabled');\n    return classNames.join(' ');\n  }\n\n  @Method()\n  async _triggerAction(event: MouseEvent) {\n    console.log({type: this.type});\n    console.log('is it triggering ? ', this.isTriggering);\n    if (this.isDisabled) return;\n    if (this.type === 'submit' && !this.triggerAction) this._handleClick();\n\n    if (!this.triggerAction) {\n      throw new Error('@triggerAction params is required for PixButton !');\n    }\n    try {\n      this.isTriggering = true;\n      console.log('when triggered !', this.triggerAction);\n      await this.triggerAction(event);\n    } finally {\n      console.log('triggering done ! ');\n      this.isTriggering = false;\n    }\n  }\n  @Method()\n  async _handleClick() {\n    const form = this.el.closest('form');\n    if (form) {\n      await form.requestSubmit();\n    }\n  }\n  // getTemplate() {\n  //   if(this.getIsLoading()) {\n  //     return (\n  //       <div>\n  //         <div class=\"loader loader--blue\">\n  //         <div class=\"bounce1\"></div>\n  //         <div class=\"bounce2\"></div>\n  //         <div class=\"bounce3\"></div>\n  //         </div>\n  //         <span class=\"loader__not-visible-text\"><slot name=\"text\"/></span>\n  //       </div>\n  //     )\n  //   }\n  //   return <slot name=\"text\"/>\n  // }\n\n  render() {\n    let template: any;\n    if(this.getIsLoading()) {\n      template = (\n        <Fragment>\n          <div class=\"loader loader--blue\">\n          <div class=\"bounce1\"></div>\n          <div class=\"bounce2\"></div>\n          <div class=\"bounce3\"></div>\n          </div>\n          <span class=\"loader__not-visible-text\"><slot name=\"text\"></slot></span>\n        </Fragment>\n      )\n    } else {\n      template = <Fragment><slot name=\"text\"></slot></Fragment>\n    }\n\n    return (\n      <button\n        onClick={this._triggerAction.bind(this)}\n        type={this.type}\n        class={this.updateClassNames()}\n        disabled={this.getIsDisabled()}\n        aria-disabled={this.getIsDisabled()}\n      >\n         {/* {this.getTemplate()}  */}\n          {template}\n         {/* <slot name=\"icon\"/> */}\n      </button>\n      )\n    }\n  }\n\n  // render() {\n  //   return (\n  //     <button\n  //       onClick={this._triggerAction.bind(this)}\n  //       type={this.type}\n  //       class={this.updateClassNames()}\n  //       disabled={this.getIsDisabled()}\n  //       aria-disabled={this.getIsDisabled()}\n  //     >\n  //       <slot/>\n  //     </button>\n  //   );\n  // }\n\n/*\n<button\n  type={{this.type}}\n  class={{this.className}}\n  {{on \"click\" this.triggerAction}}\n    ...attributes\ndisabled={{this.isDisabled}}\naria-disabled=\"{{this.isDisabled}}\"\n  >\n  {{#if this.isLoading}}\n<div class=\"loader loader--{{this.loadingColor}}\">\n  <div class=\"bounce1\"></div>\n  <div class=\"bounce2\"></div>\n  <div class=\"bounce3\"></div>\n</div>\n<span class=\"loader__not-visible-text\">{{yield}}</span>\n{{else}}\n{{#if @iconBefore}}\n<FaIcon\n  class=\"pix-button__icon pix-button__icon--before\"\n          @icon={{@iconBefore}}\n@prefix={{@prefixIconBefore}}\n/>\n{{/if}}\n  {{yield}}\n  {{#if @iconAfter}}\n  <FaIcon\n    class=\"pix-button__icon pix-button__icon--after\"\n          @icon={{@iconAfter}}\n@prefix={{@prefixIconAfter}}\n  />\n  {{/if}}\n    {{/if}}\n    </button>*/\n"],"mappings":"yDAAA,MAAMA,EAAe,86K,MCQRC,EAAS,M,mCAEG,S,UAEA,M,WAEC,W,qBAEU,O,qBAEC,M,kGAQF,K,CAMzBC,eACN,OAAOC,KAAKC,WAAaD,KAAKE,Y,CAKxBC,gBACN,OAAOH,KAAKD,gBAAkBC,KAAKI,U,CAMrCC,mBACE,MAAMC,EAAa,CACjB,aACA,qBAAqBN,KAAKO,QAC1B,oBAAoBP,KAAKQ,OACzB,0BAA0BR,KAAKS,mBAEjCT,KAAKU,iBAAmBJ,EAAWK,KAAK,sBACxCX,KAAKG,iBAAmBG,EAAWK,KAAK,wBACxC,OAAOL,EAAWM,KAAK,I,CAIzBC,qBAAqBC,GACnBC,QAAQC,IAAI,CAACC,KAAMjB,KAAKiB,OACxBF,QAAQC,IAAI,sBAAuBhB,KAAKE,cACxC,GAAIF,KAAKI,WAAY,OACrB,GAAIJ,KAAKiB,OAAS,WAAajB,KAAKkB,cAAelB,KAAKmB,eAExD,IAAKnB,KAAKkB,cAAe,CACvB,MAAM,IAAIE,MAAM,oD,CAElB,IACEpB,KAAKE,aAAe,KACpBa,QAAQC,IAAI,mBAAoBhB,KAAKkB,qBAC/BlB,KAAKkB,cAAcJ,E,SAEzBC,QAAQC,IAAI,sBACZhB,KAAKE,aAAe,K,EAIxBW,qBACE,MAAMQ,EAAOrB,KAAKsB,GAAGC,QAAQ,QAC7B,GAAIF,EAAM,OACFA,EAAKG,e,EAmBfC,SACE,IAAIC,EACJ,GAAG1B,KAAKD,eAAgB,CACtB2B,EACEC,EAACC,EAAQ,KACPD,EAAA,OAAKE,MAAM,uBACXF,EAAA,OAAKE,MAAM,YACXF,EAAA,OAAKE,MAAM,YACXF,EAAA,OAAKE,MAAM,aAEXF,EAAA,QAAME,MAAM,4BAA2BF,EAAA,QAAMG,KAAK,U,KAGjD,CACLJ,EAAWC,EAACC,EAAQ,KAACD,EAAA,QAAMG,KAAK,S,CAGlC,OACEH,EAAA,UACEI,QAAS/B,KAAKgC,eAAeC,KAAKjC,MAClCiB,KAAMjB,KAAKiB,KACXY,MAAO7B,KAAKK,mBACZ6B,SAAUlC,KAAKG,gBAAe,gBACfH,KAAKG,iBAGjBuB,E"}