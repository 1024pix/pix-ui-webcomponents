{"version":3,"file":"pix-button.js","sourceRoot":"","sources":["../../../src/components/pix-button/pix-button.tsx"],"names":[],"mappings":"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","sourcesContent":["import {Component, Prop, Method, h, Watch, State, Fragment } from '@stencil/core';\n\n@Component({\n  tag: 'pix-button',\n  styleUrl: 'pix-button.css',\n  shadow: true,\n  // scoped: true,\n})\nexport class PixButton {\n\n  @Prop() type: string = \"button\";\n\n  @Prop() size: string = 'big';\n\n  @Prop() shape: string = 'squircle';\n\n  @Prop() backgroundColor: string = 'blue'\n\n  @Prop() isBorderVisible: boolean = false;\n\n  @Prop() isDisabled: boolean;\n\n  @Prop() isLoading: boolean;\n\n  @Prop() triggerAction: Function;\n\n  @State() isTriggering: boolean = false;\n\n  @Watch('isLoading')\n  @Watch('isTriggering')\n  private getIsLoading() : boolean {\n    return this.isLoading || this.isTriggering;\n  }\n  @Watch('isLoading')\n  @Watch('isTriggering')\n  @Watch('isDisabled')\n  private getIsDisabled(): boolean {\n    return this.getIsLoading() || this.isDisabled;\n  }\n\n  @Watch('isLoading')\n  @Watch('isTriggering')\n  @Watch('isDisabled')\n  updateClassNames() {\n    const classNames = [\n      'pix-button',\n      `pix-button--shape-${this.shape}`,\n      `pix-button--size-${this.size}`,\n      `pix-button--background-${this.backgroundColor}`,\n    ];\n    this.isBorderVisible && classNames.push('pix-button--border');\n    this.getIsDisabled() && classNames.push('pix-button--disabled');\n    return classNames.join(' ');\n  }\n\n  @Method()\n  async _triggerAction(event: MouseEvent) {\n    console.log({type: this.type});\n    console.log('is it triggering ? ', this.isTriggering);\n    if (this.isDisabled || (this.type === 'submit' && !this.triggerAction)) return;\n\n    if (!this.triggerAction) {\n      throw new Error('@triggerAction params is required for PixButton !');\n    }\n    try {\n      this.isTriggering = true;\n      console.log('when triggered !', this.triggerAction);\n      await this.triggerAction(event);\n    } finally {\n      console.log('triggering done ! ');\n      this.isTriggering = false;\n    }\n  }\n\n  // getTemplate() {\n  //   if(this.getIsLoading()) {\n  //     return (\n  //       <div>\n  //         <div class=\"loader loader--blue\">\n  //         <div class=\"bounce1\"></div>\n  //         <div class=\"bounce2\"></div>\n  //         <div class=\"bounce3\"></div>\n  //         </div>\n  //         <span class=\"loader__not-visible-text\"><slot name=\"text\"/></span>\n  //       </div>\n  //     )\n  //   }\n  //   return <slot name=\"text\"/>\n  // }\n\n  render() {\n    let template: any;\n    if(this.getIsLoading()) {\n      template = (\n        <Fragment>\n          <div class=\"loader loader--blue\">\n          <div class=\"bounce1\"></div>\n          <div class=\"bounce2\"></div>\n          <div class=\"bounce3\"></div>\n          </div>\n          <span class=\"loader__not-visible-text\"><slot name=\"text\"></slot></span>\n        </Fragment>\n      )\n    } else {\n      template = <Fragment><slot name=\"text\"></slot></Fragment>\n    }\n\n    return (\n      <button\n        onClick={this._triggerAction.bind(this)}\n        type={this.type}\n        class={this.updateClassNames()}\n        disabled={this.getIsDisabled()}\n        aria-disabled={this.getIsDisabled()}\n      >\n         {/* {this.getTemplate()}  */}\n          {template}\n         {/* <slot name=\"icon\"/> */}\n      </button>\n      )\n    }\n  }\n\n  // render() {\n  //   return (\n  //     <button\n  //       onClick={this._triggerAction.bind(this)}\n  //       type={this.type}\n  //       class={this.updateClassNames()}\n  //       disabled={this.getIsDisabled()}\n  //       aria-disabled={this.getIsDisabled()}\n  //     >\n  //       <slot/>\n  //     </button>\n  //   );\n  // }\n\n/*\n<button\n  type={{this.type}}\n  class={{this.className}}\n  {{on \"click\" this.triggerAction}}\n    ...attributes\ndisabled={{this.isDisabled}}\naria-disabled=\"{{this.isDisabled}}\"\n  >\n  {{#if this.isLoading}}\n<div class=\"loader loader--{{this.loadingColor}}\">\n  <div class=\"bounce1\"></div>\n  <div class=\"bounce2\"></div>\n  <div class=\"bounce3\"></div>\n</div>\n<span class=\"loader__not-visible-text\">{{yield}}</span>\n{{else}}\n{{#if @iconBefore}}\n<FaIcon\n  class=\"pix-button__icon pix-button__icon--before\"\n          @icon={{@iconBefore}}\n@prefix={{@prefixIconBefore}}\n/>\n{{/if}}\n  {{yield}}\n  {{#if @iconAfter}}\n  <FaIcon\n    class=\"pix-button__icon pix-button__icon--after\"\n          @icon={{@iconAfter}}\n@prefix={{@prefixIconAfter}}\n  />\n  {{/if}}\n    {{/if}}\n    </button>*/\n"]}